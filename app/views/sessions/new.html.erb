<%# app/views/sessions/new.html.erb %>

<div class="mx-auto max-w-md px-4 py-10 sm:px-6 lg:px-8">
  <div class="overflow-hidden rounded-xl bg-white shadow ring-1 ring-black/5">
    <!-- Header -->
    <div class="border-b border-slate-200 bg-slate-50 px-6 py-4">
      <h1 class="text-lg font-semibold tracking-tight text-slate-900">Sign in</h1>
      <p class="mt-1 text-sm text-slate-600">
        Welcome back — log in to your Flight Logbook.
      </p>
    </div>

    <!-- Body -->
    <div class="px-6 py-6">
      <% if alert = flash[:alert] %>
        <div class="mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800">
          <span class="font-semibold text-red-900">Error:</span>
          <%= alert %>
        </div>
      <% end %>

      <% if notice = flash[:notice] %>
        <div class="mb-4 rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800">
          <span class="font-semibold text-emerald-900">Success:</span>
          <%= notice %>
        </div>
      <% end %>

      <%= form_with url: session_url, class: "space-y-5" do |form| %>
        <!-- Email -->
        <div class="space-y-1">
          <%= form.label :email_address, "Email", class: "text-sm font-medium text-slate-700" %>
          <%= form.email_field :email_address,
                required: true,
                autofocus: true,
                autocomplete: "username",
                placeholder: "you@example.com",
                value: params[:email_address],
                class: "
                  w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900
                  placeholder:text-slate-400
                  focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200
                " %>
        </div>

        <!-- Password -->
        <div class="space-y-1">
          <%= form.label :password, "Password", class: "text-sm font-medium text-slate-700" %>
          <%= form.password_field :password,
                required: true,
                autocomplete: "current-password",
                placeholder: "••••••••",
                maxlength: 72,
                class: "
                  w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900
                  placeholder:text-slate-400
                  focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200
                " %>
        </div>

        <!-- Actions -->
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <%= form.submit "Sign in",
                class: "
                  inline-flex w-full justify-center rounded-full
                  bg-slate-900 px-5 py-2
                  text-sm font-semibold text-white shadow-sm
                  hover:bg-slate-800
                  focus-visible:outline focus-visible:outline-2
                  focus-visible:outline-offset-2
                  focus-visible:outline-slate-900
                  transition
                  sm:w-auto
                " %>

          <%= link_to "Forgot password?",
                new_password_path,
                class: "text-sm font-medium text-slate-600 hover:text-slate-900" %>
        </div>
      <% end %>
    </div>
  </div>
</div>